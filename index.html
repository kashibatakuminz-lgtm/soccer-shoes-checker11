<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>è¶³å‹è¨ºæ–­ã‚¹ãƒ‘ã‚¤ã‚¯ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼âš½</title>
<style>
 body{font-family:Arial,Helvetica,sans-serif;line-height:1.6;margin:20px}
 h1{margin:0 0 10px}
 label{display:block;margin-top:10px;font-weight:bold}
 input,select,button{margin-top:6px;padding:8px;max-width:320px}
 small{color:#555}
 .result{margin-top:18px;padding:14px;border:1px solid #ccc;background:#f8f8f8}
 ul{margin:6px 0 0 20px}
 .ok{color:#0a7c3a}.warn{color:#b35b00}.bad{color:#c40000}
</style>
</head>
<body>
<h1>è¶³å‹è¨ºæ–­ã‚¹ãƒ‘ã‚¤ã‚¯ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼âš½</h1>

<label>è¶³ã®ã‚µã‚¤ã‚ºï¼ˆcmï¼‰
  <input id="size" type="number" step="0.1" placeholder="ä¾‹: 25.5">
</label>

<label>è¶³ã®å¹…ï¼ˆcmï¼‰
  <input id="width" type="number" step="0.1" placeholder="ä¾‹: 10.0">
</label>

<label>è¶³å‹ã‚¿ã‚¤ãƒ—
  <select id="footType">
    <option value="egypt">ğŸ‘£ ã‚¨ã‚¸ãƒ—ãƒˆå‹ï¼ˆè¦ªæŒ‡ãŒä¸€ç•ªé•·ã„ï¼‰</option>
    <option value="greek">ğŸ‘£ ã‚®ãƒªã‚·ãƒ£å‹ï¼ˆäººå·®ã—æŒ‡ãŒä¸€ç•ªé•·ã„ï¼‰</option>
    <option value="square">ğŸ‘£ ã‚¹ã‚¯ã‚¨ã‚¢å‹ï¼ˆè¦ªæŒ‡ã¨äººå·®ã—æŒ‡ãŒåŒã˜ï¼‰</option>
  </select>
  <small>è¿·ã£ãŸã‚‰æŒ‡ã®é•·ã•ã‚’æ¨ªã‹ã‚‰è¦‹ã¦åˆ¤æ–­</small>
</label>

<label>ã‚¢ãƒ¼ãƒã®é«˜ã•ï¼ˆåºŠâ†’åœŸè¸ã¾ãšã®ä¸€ç•ªé«˜ã„æ‰€ï¼‰
  <select id="arch">
    <option value="high">é«˜ã„ï¼ˆ4.0cmä»¥ä¸Šï¼‰</option>
    <option value="normal">æ™®é€šï¼ˆ2.5ã€œ3.9cmï¼‰</option>
    <option value="low">ä½ã„ï¼ˆã€œ2.4cmï¼‰</option>
  </select>
  <small>æ¤…å­ã«åº§ã‚Šå®šè¦ã‚’ç«‹ã¦ã¦é«˜ã•ã‚’æ¸¬ã‚‹</small>
</label>

<label>ç¾åœ¨ä½¿ã£ã¦ã„ã‚‹ãƒ¡ãƒ¼ã‚«ãƒ¼
  <select id="brand">
    <option value="none">æŒã£ã¦ã„ãªã„</option>
    <option value="nike">Nike</option>
    <option value="adidas">adidas</option>
    <option value="puma">Puma</option>
    <option value="mizuno">Mizuno</option>
    <option value="asics">Asics</option>
  </select>
</label>

<label>å¸Œæœ›ï¼ç¾åœ¨ã®ãƒã‚¸ã‚·ãƒ§ãƒ³
  <select id="wishPos">
    <option value="FW">FWï¼ˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ï¼‰</option>
    <option value="WG">WGï¼ˆã‚¦ã‚¤ãƒ³ã‚°ï¼‰</option>
    <option value="OMF">OMFï¼ˆæ”»æ’ƒçš„MFï¼‰</option>
    <option value="CMF">CMFï¼ˆä¸­å¤®MFï¼‰</option>
    <option value="DMF">DMFï¼ˆå®ˆå‚™çš„MFï¼‰</option>
    <option value="SB">SBï¼ˆã‚µã‚¤ãƒ‰ãƒãƒƒã‚¯ï¼‰</option>
    <option value="CB">CBï¼ˆã‚»ãƒ³ã‚¿ãƒ¼ãƒãƒƒã‚¯ï¼‰</option>
    <option value="GK">GKï¼ˆã‚´ãƒ¼ãƒ«ã‚­ãƒ¼ãƒ‘ãƒ¼ï¼‰</option>
  </select>
</label>

<button onclick="diagnose()">è¨ºæ–­ã™ã‚‹</button>

<div id="result" class="result"></div>

<script>
// å¹…ã‚¯ãƒ©ã‚¹åˆ¤å®šï¼ˆã–ã£ãã‚Šï¼‰
const getWidthClass = v=>{
  const w=parseFloat(v||"0");
  if(!w) return "normal";
  if(w<=9.0) return "narrow";
  if(w>=11.0) return "wide";
  return "normal";
};

// ãƒ–ãƒ©ãƒ³ãƒ‰ã®ãƒ©ã‚¹ãƒˆå‚¾å‘
const brandBase = {nike:"narrow", puma:"narrow", adidas:"normal", mizuno:"wide", asics:"wide", none:"normal"};

// è¶³å‹Ã—ã‚¢ãƒ¼ãƒÃ—å¹… â†’ é©æ€§ãƒã‚¸ã‚·ãƒ§ãƒ³å€™è£œ
function derivePositions(foot, arch, w){
  const out=[];
  if(foot==="greek"){ out.push("FW","WG","OMF"); }
  if(foot==="egypt"){ out.push("OMF","CMF","FW"); }
  if(foot==="square"){ out.push("DMF","CB","SB","CMF"); }
  if(arch==="high"){ out.unshift("FW","WG"); }
  if(arch==="low"){ out.unshift("DMF","CB","SB","GK"); }
  if(w==="narrow"){ out.unshift("WG","FW","OMF"); }
  if(w==="wide"){ out.unshift("CB","DMF","SB"); }
  return [...new Set(out)].slice(0,2); // é‡è¤‡æ’é™¤ã—ã¦ä¸Šä½2ã¤
}

// ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ¥ã‚¢ãƒ‰ãƒã‚¤ã‚¹
const posAdvice = {
  FW:"5mãƒ€ãƒƒã‚·ãƒ¥Ã—8æœ¬ï¼é€†è¶³&ãƒ¯ãƒ³ã‚¿ãƒƒãƒé€£ç¶šã‚·ãƒ¥ãƒ¼ãƒˆï¼ãƒãƒ§ãƒƒãƒ—ï¼†ãƒ©ãƒ»ã‚¯ãƒ­ã‚±ã‚¿ã§è§’åº¦ä½œã‚Šã€‚",
  WG:"10måŠ é€Ÿèµ°ï¼ã‚¢ã‚¦ãƒˆâ†’ã‚¤ãƒ³ã®ã‚¿ãƒƒãƒï¼é€†è¶³ã‚¯ãƒ­ã‚¹ï¼†ãƒ‹ã‚¢å©ãè¾¼ã¿ã€‚",
  OMF:"é¦–æŒ¯ã‚Šâ†’åŠèº«ã§å—ã‘ã‚‹â†’ãƒ¯ãƒ³ã‚¿ãƒƒãƒå±•é–‹ï¼ã‚¯ãƒ©ã‚¤ãƒ•ã‚¿ãƒ¼ãƒ³â†’å‰é€²ï¼ãƒŸãƒ‰ãƒ«å¼·åŒ–ã€‚",
  CMF:"ä¸‰è§’ãƒ‘ã‚¹é€£ç¶šï¼æ–¹å‘è»¢æ›ã‚¿ãƒ¼ãƒ³ï¼ä¸­è·é›¢ãƒ‘ã‚¹ç²¾åº¦UPã¨å®ˆå‚™â†’æ”»æ’ƒã®åˆ‡æ›¿ã€‚",
  DMF:"1å¯¾1ã®é–“åˆã„ï¼å¥ªã£ã¦å‰ã‚’å‘ãå‹ï¼é…çƒã®ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ‘ã‚¹ç²¾åº¦ã€‚",
  SB:"ãƒªã‚«ãƒãƒªãƒ¼ã‚¹ãƒ—ãƒªãƒ³ãƒˆï¼æ–œã‚ãƒãƒƒã‚¯èµ°ï¼ã‚¢ãƒ¼ãƒªãƒ¼&ã‚°ãƒ©ã‚¦ãƒ³ãƒ€ãƒ¼ã‚¯ãƒ­ã‚¹ã€‚",
  CB:"ã‚¸ãƒ£ãƒ³ãƒ—&ç€åœ°ï¼ˆä¸¡è„šï¼‰ï¼èƒŒä¸­ã§ãƒ–ãƒ­ãƒƒã‚¯ï¼ã‚¯ãƒªã‚¢&ç¸¦ãƒ‘ã‚¹åˆ¤æ–­ã€‚",
  GK:"ã‚µã‚¤ãƒ‰ã‚¹ãƒ†ãƒƒãƒ—â†’ã‚­ãƒ£ãƒƒãƒâ†’ç€åœ°å®‰å®šã€‚è¶³é¦–ãƒ»è‚¡é–¢ç¯€ã®è£œå¼·å¿…é ˆã€‚"
};

// åŒãƒ¡ãƒ¼ã‚«ãƒ¼å†…æ¨å¥¨
function sameBrandModels(brand,w,arch){
  const t={
    nike:{narrow: arch==="low"?"Phantom GX / Tiempoï¼ˆã‚¢ãƒ¼ãƒè£œåŠ©ï¼‰":"Mercurial / Phantom GX",
          normal: arch==="low"?"Tiempo / Phantom GX":"Phantom GX",
          wide:"Tiempoï¼ˆåˆã‚ãªã‘ã‚Œã°ä»–ç¤¾ãƒ¯ã‚¤ãƒ‰ï¼‰"},
    adidas:{narrow: arch==="low"?"Predatorï¼ˆã‚µãƒãƒ¼ãƒˆï¼‰":"X Crazyfast",
            normal:"Copa Pure / Predator",
            wide:"Copa Pure / Copa Gloro / Predatorï¼ˆWideï¼‰"},
    puma:{narrow: arch==="low"?"Futureï¼ˆãƒŸãƒƒãƒ‰ãƒ•ãƒƒãƒˆæ”¯æŒï¼‰":"Ultra",
          normal:"Future",
          wide:"ï¼ˆãƒ¯ã‚¤ãƒ‰å°‘ï¼‰â†’ ä»–ç¤¾ãƒ¯ã‚¤ãƒ‰ã¸"},
    mizuno:{narrow:"Î± Japan / Morelia Neoï¼ˆç´°ã‚è©¦ç€ï¼‰",
            normal:"Morelia Neo / Rebula",
            wide:"Morelia II / Monarcida Neo Wide"},
    asics:{narrow:"ï¼ˆç´°ã‚å°‘ï¼‰â†’ DS LIGHT ACROS ç­‰ï¼åˆã‚ãªã‘ã‚Œã°ãƒŠãƒ­ãƒ¼ä»–ç¤¾ã¸",
           normal:"DS LIGHT X-FLY PRO / ULTREZZA",
           wide:"DS LIGHT WIDE / ULTREZZA 2 WIDE"},
    none:{narrow:"Nike Mercurial / Puma Ultra",
          normal:"Nike Phantom GX / adidas Copa Pure / Puma Future",
          wide:"Mizuno Morelia / Asics DS LIGHT WIDE / adidas Copa"}
  };
  return (t[brand] && t[brand][w])||"";
}

// ä»–ç¤¾ä»£æ›¿
const altByWidth = w =>
  w==="narrow" ? "ãƒŠãƒ­ãƒ¼ï¼šNike Mercurial / Puma Ultra / adidas X"
  : w==="wide" ? "ãƒ¯ã‚¤ãƒ‰ï¼šMizuno Morelia / Asics DS LIGHT WIDE / adidas Copa"
  : "æ¨™æº–ï¼šNike Phantom GX / adidas Copa Pure / Puma Future";

// å¹…ãƒŸã‚¹ãƒãƒƒãƒâ†’ãƒªã‚¹ã‚¯
function risks(w,base,arch){
  const rank = x=>x==="narrow"?0:x==="normal"?1:2;
  const diff = Math.abs(rank(w)-rank(base));
  const out=[];
  if(diff>=1){
    if(w==="wide" && base==="narrow") out.push("åœ§è¿«â†’è¦ªæŒ‡/å°æŒ‡ç—›ãƒ»çˆªä¸‹è¡€è…«ãƒ»å¤–åæ¯è¶¾ãƒ»ç¬¬5ä¸­è¶³éª¨ç–²åŠ´éª¨æŠ˜");
    if(w==="narrow" && base==="wide") out.push("ã‹ã‹ã¨æµ®ãâ†’é´æ“¦ã‚Œãƒ»æ°´ã¶ãã‚Œãƒ»ã­ã‚“ã–ï¼ˆæ¨ªãƒ–ãƒ¬ï¼‰ãƒ»ã‚­ãƒƒã‚¯ç²¾åº¦ä½ä¸‹");
    if(w==="normal" && base!=="normal") out.push("ãƒ•ã‚£ãƒƒãƒˆä¸å‡ä¸€â†’ãƒãƒ¡/é´æ“¦ã‚Œãƒ»åå¿œé…ã‚Œ");
  }
  if(arch==="high") out.push("é«˜ã‚¢ãƒ¼ãƒâ†’ã‚¯ãƒƒã‚·ãƒ§ãƒ³ä¸è¶³ã§è¶³åº•ç­‹è†œç‚ãƒ»ã‚·ãƒ³ã‚¹ãƒ—ãƒªãƒ³ãƒˆæ³¨æ„");
  if(arch==="low")  out.push("ä½ã‚¢ãƒ¼ãƒâ†’æ”¯æŒä¸è¶³ã§å¾Œè„›éª¨ç­‹ç‚ãƒ»è†ã®å†…å€’ã‚Œãƒ»è¶³åº•ç­‹è†œç‚æ³¨æ„");
  return out;
}

// é©æ€§ãƒã‚¸ã‚·ãƒ§ãƒ³å‘ã‘ã®ä»£è¡¨ãƒ¢ãƒ‡ãƒ«ï¼ˆè¦‹ã‚‹ç”¨ï¼‰
const posModels = {
  FW:"Nike Mercurial / adidas X / Mizuno Î±",
  WG:"Nike Mercurial / Puma Ultra / adidas X",
  OMF:"adidas Predator / Nike Phantom GX / Puma Future",
  CMF:"adidas Copa Pure / Mizuno Rebula / Nike Phantom GX",
  DMF:"Mizuno Morelia / adidas Copa / Nike Tiempo",
  SB:"Nike Tiempo / Puma King / Mizuno Morelia Neo",
  CB:"Nike Tiempo / Mizuno Morelia / adidas Copa",
  GK:"Nike Phantom GX / adidas Copa Pure / Puma Future"
};

function diagnose(){
  const size  = parseFloat(document.getElementById("size").value||"");
  const width = parseFloat(document.getElementById("width").value||"");
  const foot  = document.getElementById("footType").value;
  const arch  = document.getElementById("arch").value;
  const brand = document.getElementById("brand").value;
  const wish  = document.getElementById("wishPos").value;

  const wClass = getWidthClass(width);
  const base   = brandBase[brand]||"normal";

  const cand = derivePositions(foot,arch,wClass);      // é©æ€§å€™è£œï¼ˆä¸Šä½2ã¤ï¼‰
  const topPos = cand[0] || "CMF";                     // æœ€ä¸Šä½ã‚’ä»£è¡¨ã«

  // é©åˆåº¦è¡¨ç¤º
  const sc = {narrow:0,normal:1,wide:2};
  const diff = Math.abs(sc[wClass]-sc[base]);
  const fitText = diff===0? `<span class="ok">åˆã„ã‚„ã™ã„</span>`
                : diff===1? `<span class="warn">ã‚„ã‚„åˆã„ã«ãã„</span>`
                : `<span class="bad">åˆã„ã«ãã„</span>`;

  // ãƒªã‚¹ã‚¯ã¨æ¨å¥¨
  const riskList = risks(wClass,base,arch);
  const same = sameBrandModels(brand,wClass,arch);
  const alt  = altByWidth(wClass);

  // ç”»é¢å‡ºåŠ›
  document.getElementById("result").innerHTML = `
    <h3>è¨ºæ–­çµæœ</h3>
    <b>å¸Œæœ›ãƒã‚¸ã‚·ãƒ§ãƒ³ï¼š</b> ${wish}<br>
    <b>é©æ€§ãƒã‚¸ã‚·ãƒ§ãƒ³å€™è£œï¼š</b> ${cand.join(" / ")}<br>
    <b>é©æ€§ã«åˆã†ä»£è¡¨ãƒ¢ãƒ‡ãƒ«ï¼š</b> ${posModels[topPos]}<br>
    <hr>
    <b>ç¾åœ¨ã®ãƒ¡ãƒ¼ã‚«ãƒ¼é©åˆåº¦ï¼š</b> ${brand.toUpperCase()} ã¯ ${fitText}
      ï¼ˆã‚ãªãŸã®è¶³å¹…ï¼š${wClass} ï¼ ãƒ¡ãƒ¼ã‚«ãƒ¼å‚¾å‘ï¼š${base}ï¼‰<br>
    <b>åŒãƒ¡ãƒ¼ã‚«ãƒ¼å†…ãŠã™ã™ã‚ï¼š</b> ${same}<br>
    <b>ä»–ãƒ¡ãƒ¼ã‚«ãƒ¼ä»£æ›¿å€™è£œï¼š</b> ${alt}<br>
    <b>å¼±ã¿ãƒ»æ³¨æ„ç‚¹ï¼ˆãƒªã‚¹ã‚¯ï¼‰ï¼š</b>
      <ul>${(riskList.length?riskList:["å¤§ããªãƒªã‚¹ã‚¯ã¯å°‘ãªã„ãŒã€é•·æ™‚é–“ä½¿ç”¨æ™‚ã¯ãƒãƒ¡ãƒ»ç–²åŠ´ã«æ³¨æ„ã€‚"])
      .map(x=>`<li>${x}</li>`).join("")}</ul>
    <b>ãƒã‚¸ã‚·ãƒ§ãƒ³åˆ¥ã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼š</b> ${posAdvice[topPos]}<br><br>
    <b>å…¥åŠ›ï¼š</b> è¶³ã‚µã‚¤ã‚º ${size||"-"} cm / è¶³å¹… ${width||"-"} cm ãƒ» è¶³å‹ ${foot} ãƒ» ã‚¢ãƒ¼ãƒ ${arch} ãƒ» ãƒ¡ãƒ¼ã‚«ãƒ¼ ${brand.toUpperCase()}
  `;
}
</script>
</body>
</html>